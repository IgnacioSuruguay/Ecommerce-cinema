"use strict";(self["webpackChunkecommerce_cinema"]=self["webpackChunkecommerce_cinema"]||[]).push([[443],{4122:function(s,t,e){e.r(t),e.d(t,{default:function(){return g}});var i=function(){var s=this,t=s._self._c;return t("div",{staticClass:"p-4"},[t("carrito")],1)},a=[],r=(e(7658),function(){var s=this,t=s._self._c;return t("section",{staticClass:"carrito container"},[t("h1",[s._v("Carrito")]),t("p",{staticClass:"text-start blockquote-footer mt-3"},[s._v(" Recordá que podés compartir el link de la película con tus amigos hasta 3 veces por un costo adicional (%30). ")]),t("table",{staticClass:"table table-light table-striped"},[s._m(0),t("tbody",[s._l(s.carrito,(function(e,i){return t("tr",{key:i},[t("td",[s._v(s._s(i+1))]),t("td",[s._v(s._s(e.titulo))]),t("td",[s._v(s._s(e.genero.join(" / ")))]),t("td",[s._v("$"+s._s(e.precio))]),t("td",[t("button",{staticClass:"btn btn-sm rounded-circle bg-secondary bg-gradient bg-opacity-25 m-auto",on:{click:function(s){e.dias>0&&e.dias--}}},[t("font-awesome-icon",{attrs:{icon:"fa-solid fa-minus"}})],1),t("span",{staticClass:"m-2"},[s._v(s._s(e.dias))]),t("button",{staticClass:"btn btn-sm rounded-circle bg-secondary bg-gradient bg-opacity-25 m-auto",on:{click:function(s){!(e.dias<3)||e.dias++}}},[t("font-awesome-icon",{attrs:{icon:"fa-solid fa-plus"}})],1)]),t("td",[s._v("$"+s._s(s.calcularSubTotal(e)))]),t("td",[t("button",{staticClass:"btn btn-secondary",on:{click:function(t){return s.Quitar(e)}}},[s._v("Quitar")])])])})),0==s.carrito.length?t("tr",[t("td",{attrs:{colspan:"7"}},[s._v("No hay elementos seleccionados")])]):s._e()],2),s.carrito.length>0?t("tfoot",[t("tr",[t("td",{attrs:{colspan:"4"}}),s._m(1),t("td",[t("strong",[s._v("$"+s._s(s.calcularTotal))])]),s._m(2)])]):s._e()]),t("div",{ref:"modalConfirm",staticClass:"modal fade",attrs:{id:"modalConfirm","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"modalConfirmLabel","aria-hidden":"true"}},[t("div",{staticClass:"modal-dialog modal-dialog-centered"},[t("div",{staticClass:"modal-content"},[s._m(3),t("div",{staticClass:"modal-body"},[s._v(" ¿Está seguro que desea finalizar la compra? ")]),t("div",{staticClass:"modal-footer"},[t("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return s.FinalizarCompra()}}},[s._v("Confirmar")]),t("button",{ref:"modal-close",staticClass:"btn btn-secondary",attrs:{type:"button","data-bs-dismiss":"modal"}},[s._v("Cancelar")])])])])]),t("div",{staticClass:"toast-container position-fixed bottom-0 end-0 p-3"},[t("div",{ref:"toastCreate",staticClass:"toast",attrs:{id:"toastCreate",role:"alert","aria-live":"assertive","aria-atomic":"true"}},[s._m(4),t("div",{staticClass:"toast-body"},[s._v("El pedido fue enviado exitosamente")])])])])}),o=[function(){var s=this,t=s._self._c;return t("thead",[t("tr",[t("th",[s._v("#")]),t("th",[s._v("Película")]),t("th",[s._v("Género")]),t("th",[s._v("Precio unitario")]),t("th",[s._v("Compartir")]),t("th",[s._v("Sub Total")]),t("th")])])},function(){var s=this,t=s._self._c;return t("td",[t("strong",[s._v("Total")])])},function(){var s=this,t=s._self._c;return t("td",[t("button",{staticClass:"btn btn-primary",attrs:{"data-bs-toggle":"modal","data-bs-target":"#modalConfirm"}},[s._v("Finalizar compra")])])},function(){var s=this,t=s._self._c;return t("div",{staticClass:"modal-header"},[t("h1",{staticClass:"modal-title fs-5",attrs:{id:"modalConfirmLabel"}},[s._v("Confirmar")]),t("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}})])},function(){var s=this,t=s._self._c;return t("div",{staticClass:"toast-header text-white bg-primary bg-gradient"},[t("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"toast","aria-label":"Close"}})])}],l=e(5939),n=e(2166);window.bootstrap=n;var d={name:"carrito",props:[],created(){l.Z.get("https://639a6077d514150197347436.mockapi.io/cinema/peliculas").then((s=>{this.list_peliculas=s.data})).catch((s=>{console.error(`${s}`)}))},mounted(){const s=this.$refs.toastCreate;this.toastCreate=new n.Toast(s),this.modal=new n.Modal("#modalConfirm")},data(){return{carrito:JSON.parse(localStorage.getItem("carrito"))||[],toastCreate:null}},methods:{calcularSubTotal(s){let t=parseFloat(s.precio),e=s.dias;return(t+.3*t*e).toFixed(2)},Quitar(s){let t=this.carrito.filter((t=>t.id!==s.id));this.carrito=t,localStorage.setItem("carrito",JSON.stringify(this.carrito))},async FinalizarCompra(){let s=[];this.carrito.forEach((t=>{s.push({id_pelicula:t.id,titulo:t.titulo,precio:t.precio,compartir:t.dias})}));let t={user:this.$store.state.user.id,peliculas:s,costoFinal:this.calcularTotal,estado:"pendiente"};await l.Z.post("https://639a6077d514150197347436.mockapi.io/cinema/pedidos",t).then((s=>{console.log("created"+s.data),localStorage.removeItem("carrito"),this.carrito=[],this.modal.hide(),this.toastCreate.show()})).catch((s=>{console.error(`${s}`)}))}},computed:{calcularTotal(){let s=0;return this.carrito.forEach((t=>s+=parseFloat(this.calcularSubTotal(t)))),s}},watch:{}},c=d,p=e(1001),u=(0,p.Z)(c,r,o,!1,null,"0c13321f",null),h=u.exports,m={name:"CarritoView",components:{Carrito:h},beforeCreate(){null!=this.$store.getters.getUser&&this.$store.getters.esAdministrador&&this.$router.push({path:"/SignIn"})}},f=m,v=(0,p.Z)(f,i,a,!1,null,null,null),g=v.exports},5776:function(s,t,e){e.r(t),e.d(t,{default:function(){return g}});var i=function(){var s=this,t=s._self._c;return t("div",{staticClass:"home p-4"},[t("Pedidos")],1)},a=[],r=(e(7658),function(){var s=this,t=s._self._c;return t("section",{staticClass:"carrito container"},[t("h1",[s._v("Pedidos")]),t("table",{staticClass:"table table-light table-striped"},[s._m(0),t("tbody",[s._l(s.getPedidos(),(function(e,i){return t("tr",{key:i},[t("td",[s._v(s._s(e.id))]),t("td",[s._v(s._s(e.user))]),t("td",[s._v(s._s(e.peliculas.map((s=>s.titulo)).join(" / ")))]),t("td",[s._v("$"+s._s(e.costoFinal))]),t("td",[s._v(s._s(e.estado))]),t("td",[t("button",{staticClass:"btn",class:"Entregado"==e.estado?"disabled btn-secondary":"btn-primary",on:{click:function(t){return s.entregar(e)}}},[s._v("Entregar")])])])})),null==s.$store.state.pedidos?t("tr",[t("td",{attrs:{colspan:"7"}},[s._v("Cargando ...")])]):0==s.$store.state.pedidos.length?t("tr",[t("td",{attrs:{colspan:"7"}},[s._v("No hay elementos seleccionados")])]):s._e()],2)])])}),o=[function(){var s=this,t=s._self._c;return t("thead",[t("tr",[t("th",[s._v("ID Pedido")]),t("th",[s._v("Usuario ID")]),t("th",[s._v("Peliculas")]),t("th",[s._v("Total")]),t("th",[s._v("Estado")]),t("th")])])}],l=e(5939),n=e(3822),d={name:"pedidos",props:[],created(){console.log("calling getProductosAction"),this.$store.dispatch("getPedidosAction")},mounted(){},data(){return{pedidos:[]}},methods:{...(0,n.nv)(["getPedidosAction"]),...(0,n.Se)(["getPedidos"]),entregar(s){"Entregado"!=s.estado&&(s.estado="Entregado",l.Z.put("https://639a6077d514150197347436.mockapi.io/cinema/pedidos/"+s.id,s).then((s=>{console.log("updated"+s.data),Object.assign(this.$data,this.$options.data()),localStorage.removeItem("carrito"),this.carrito=[]})).catch((s=>{console.error(`${s}`)})))}},computed:{obtenerTitulos(s){return console.log(s),"a"}}},c=d,p=e(1001),u=(0,p.Z)(c,r,o,!1,null,"37fae6fc",null),h=u.exports,m={name:"PedidosView",components:{Pedidos:h},beforeCreate(){this.$store.getters.esAdministrador||this.$router.push({path:"/SignIn"})}},f=m,v=(0,p.Z)(f,i,a,!1,null,null,null),g=v.exports},6427:function(s,t,e){e.r(t),e.d(t,{default:function(){return k}});var i=function(){var s=this,t=s._self._c;return t("div",{staticClass:"home p-4"},[t("ListPeliculas")],1)},a=[],r=(e(7658),function(){var s=this,t=s._self._c;return t("section",{staticClass:"list-peliculas container"},[t("h1",[s._v("Peliculas")]),t("table",{staticClass:"table table-light table-striped"},[t("thead",[t("tr",[t("th",[s._v("#")]),t("th",[s._v("Película")]),t("th",[s._v("Año")]),t("th",[s._v("Idioma")]),t("th",[s._v("Genero")]),t("th",[t("button",{staticClass:"btn btn-primary",attrs:{"data-bs-toggle":"modal","data-bs-target":"#editPeliModal"},on:{click:function(t){s.targetEdit=null}}},[t("font-awesome-icon",{attrs:{icon:"fa-solid fa-plus"}}),s._v(" Nuevo ")],1)])])]),t("tbody",[s._l(s.getProductos(),(function(e,i){return t("tr",{key:i},[t("td",[s._v(s._s(i+1))]),t("td",[s._v(s._s(e.titulo))]),t("td",[s._v(s._s(e.anio))]),t("td",[s._v(s._s(e.idioma))]),t("td",[s._v(s._s(e.genero.join("/")))]),t("td",[t("button",{staticClass:"btn btn-outline-danger mx-1",attrs:{"data-bs-toggle":"modal","data-bs-target":"#deletePeliModal"},on:{click:function(t){s.targetEdit=e}}},[t("font-awesome-icon",{attrs:{icon:"fa-regular fa-trash-can"}})],1),t("button",{staticClass:"btn btn-outline-success mx-1",attrs:{"data-bs-toggle":"modal","data-bs-target":"#editPeliModal"},on:{click:function(t){s.targetEdit=e}}},[t("font-awesome-icon",{attrs:{icon:"fa-regular fa-pen-to-square"}})],1)])])})),null==s.getProductos()?t("tr",[t("td",{attrs:{colspan:"7"}},[s._v("Cargando")])]):0==s.getProductos().length?t("tr",[t("td",{attrs:{colspan:"7"}},[s._v("No hay peliculas disponibles")])]):s._e()],2)]),t("div",{ref:"editPeliModal",staticClass:"modal fade modal-lg",attrs:{id:"editPeliModal",tabindex:"-1","aria-labelledby":"editPeliModalLabel","aria-hidden":"true"}},[t("div",{staticClass:"modal-dialog"},[t("div",{staticClass:"modal-content"},[t("FormPelicula",{ref:"FormPelicula",attrs:{pelicula:s.targetEdit},on:{setEvent:function(t){return s.displayToast(t)}}})],1)])]),t("div",{ref:"deletePeliModal",staticClass:"modal fade",attrs:{id:"deletePeliModal",tabindex:"-1","aria-labelledby":"deletePeliModal","aria-hidden":"true"}},[t("div",{staticClass:"modal-dialog modal-dialog-centered"},[t("div",{staticClass:"modal-content"},[s._m(0),t("div",{staticClass:"modal-body"},[s._v(" ¿Seguro que deseas eliminar la pelicula "),t("strong",[s._v(s._s(s.targetEdit?s.targetEdit.titulo:""))]),s._v("? ")]),t("div",{staticClass:"modal-footer"},[t("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return s.EliminarPelicula()}}},[s._v("Confirmar")]),t("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-bs-dismiss":"modal"}},[s._v("Cancelar")])])])])]),t("div",{staticClass:"toast-container position-fixed bottom-0 end-0 p-3"},[t("div",{ref:"ABMtoast",staticClass:"toast",attrs:{id:"ABMtoast",role:"alert","aria-live":"assertive","aria-atomic":"true"}},[t("div",{staticClass:"toast-header text-white",class:s.toastBkgn},[t("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"toast","aria-label":"Close"}})]),t("div",{staticClass:"toast-body",domProps:{innerHTML:s._s(s.toastMsg)}})])])])}),o=[function(){var s=this,t=s._self._c;return t("div",{staticClass:"modal-header"},[t("h1",{staticClass:"modal-title fs-5",attrs:{id:"exampleModalLabel"}},[s._v("Eliminación")]),t("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}})])}],l=e(3822),n=e(5939),d=function(){var s=this,t=s._self._c;return t("section",{staticClass:"form-edit-pelicula container"},[this.pelicula?t("h1",[s._v("Formulario de modificación")]):t("h1",[s._v("Formulario de creación")]),t("form",{attrs:{action:"",method:"post",id:"form1",novalidate:""},on:{submit:function(t){return t.preventDefault(),s.submit()}}},[t("div",{staticClass:"row g-3"},[t("div",{staticClass:"form-floating mb-3 col-md-6",attrs:{id:"input-titulo"}},[t("input",{directives:[{name:"model",rawName:"v-model",value:s.peli_titulo,expression:"peli_titulo"}],ref:"titulo",staticClass:"form-control input-group-sm",attrs:{id:"titulo",type:"text",required:""},domProps:{value:s.peli_titulo},on:{input:function(t){t.target.composing||(s.peli_titulo=t.target.value)}}}),t("label",{attrs:{for:""}},[s._v(" Pelicula ")]),t("div",{ref:"errortitulo",staticClass:"invalid-feedback text-start"})]),t("div",{staticClass:"form-floating mb-3 col-md-3"},[t("input",{directives:[{name:"model",rawName:"v-model",value:s.peli_anio,expression:"peli_anio"}],ref:"anio",staticClass:"form-control input-group-sm has-validation",attrs:{type:"number",pattern:"\\d*",value:""},domProps:{value:s.peli_anio},on:{keydown:function(t){return s.isInteger(t)},input:function(t){t.target.composing||(s.peli_anio=t.target.value)}}}),t("label",{attrs:{for:"anio"}},[s._v(" Año ")]),t("div",{ref:"erroranio",staticClass:"invalid-feedback text-start"})]),t("div",{staticClass:"form-floating mb-3 col-md-3"},[t("select",{directives:[{name:"model",rawName:"v-model",value:s.peli_idioma,expression:"peli_idioma"}],ref:"idioma",staticClass:"form-select input-group-sm has-validation",attrs:{required:""},on:{change:function(t){var e=Array.prototype.filter.call(t.target.options,(function(s){return s.selected})).map((function(s){var t="_value"in s?s._value:s.value;return t}));s.peli_idioma=t.target.multiple?e:e[0]}}},s._l(s.list_idiomas,(function(e,i){return t("option",{key:i,domProps:{value:e}},[s._v(s._s(e))])})),0),t("label",{attrs:{for:""}},[s._v("Idioma")]),t("div",{ref:"erroridioma",staticClass:"invalid-feedback text-start"})])]),t("div",{staticClass:"row g-3"},[t("div",{staticClass:"form-floating col-md-6"},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:s.peli_sinopsis,expression:"peli_sinopsis"}],ref:"sinopsis",staticClass:"form-control input-group-sm has-validation",staticStyle:{height:"200px"},attrs:{name:"sinopsis",required:""},domProps:{value:s.peli_sinopsis},on:{input:function(t){t.target.composing||(s.peli_sinopsis=t.target.value)}}}),t("label",{attrs:{for:"inicio-fecha"}},[s._v("Sinopsis")]),t("div",{ref:"errorsinopsis",staticClass:"invalid-feedback"})]),t("div",{staticClass:"col-md-3"},[s._l(s.list_generos,(function(e,i){return t("div",{key:i,staticClass:"form-check text-start"},[t("input",{directives:[{name:"model",rawName:"v-model",value:s.peli_genero,expression:"peli_genero"}],ref:"generos",refInFor:!0,staticClass:"form-check-input",attrs:{type:"checkbox",name:"genero",id:"genero"+i,required:""},domProps:{value:e,checked:Array.isArray(s.peli_genero)?s._i(s.peli_genero,e)>-1:s.peli_genero},on:{change:function(t){var i=s.peli_genero,a=t.target,r=!!a.checked;if(Array.isArray(i)){var o=e,l=s._i(i,o);a.checked?l<0&&(s.peli_genero=i.concat([o])):l>-1&&(s.peli_genero=i.slice(0,l).concat(i.slice(l+1)))}else s.peli_genero=r}}}),t("label",{staticClass:"form-check-label",attrs:{for:"genero"+i}},[s._v(" "+s._s(e)+" ")])])})),t("div",{staticClass:"form-check text-start"},[t("input",{ref:"genero8",staticClass:"form-check-input",attrs:{type:"checkbox",id:"genero8",hidden:""}}),t("label",{staticClass:"form-check-label",attrs:{for:"genero8",hidden:""}},[s._v(" dummy ")]),t("div",{ref:"errorgenero",staticClass:"invalid-feedback"})])],2),t("div",{staticClass:"form-floating mb-3 col-md-3"},[t("input",{directives:[{name:"model",rawName:"v-model",value:s.peli_precio,expression:"peli_precio"}],ref:"precio",staticClass:"form-control input-group-sm has-validation",attrs:{type:"number",pattern:"\\d*",value:"",required:""},domProps:{value:s.peli_precio},on:{keypress:function(t){return s.isFloat(t)},input:function(t){t.target.composing||(s.peli_precio=t.target.value)}}}),t("label",{attrs:{for:"precio"}},[s._v(" Precio (Ej: 10.00) ")]),t("div",{ref:"errorprecio",staticClass:"invalid-feedback text-start"})])]),t("div",{staticClass:"row g-3"},[t("div",{staticClass:"form-floating mb-3 col-md-6"},[t("input",{directives:[{name:"model",rawName:"v-model",value:s.peli_posterurl,expression:"peli_posterurl"}],ref:"posterurl",staticClass:"form-control input-group-sm has-validation",attrs:{type:"url",value:""},domProps:{value:s.peli_posterurl},on:{input:function(t){t.target.composing||(s.peli_posterurl=t.target.value)}}}),t("label",{attrs:{for:"precio"}},[s._v(" URL Poster ")]),t("div",{ref:"errorposterurl",staticClass:"invalid-feedback text-start"})]),t("div",{staticClass:"mb-3 col-md-6"},[t("div",{staticClass:"card",staticStyle:{width:"18rem"}},[t("img",{staticClass:"card-img-top",attrs:{src:s.peli_posterurl,alt:"...",onerror:"this.src='https://www.loscotos.es/module/shop/img/no-normal.jpg'"}})])])]),t("button",{staticClass:"btn btn-primary m-1"},[s._v(s._s(s.pelicula?"Actualizar":"Crear"))]),t("button",{staticClass:"btn btn-secondary m-1",attrs:{type:"button","data-bs-dismiss":"modal"}},[s._v("Cancelar")])])])},c=[],p=e(2166);class u{constructor(s,t,e,i,a,r,o){this.titulo=s,this.anio=t,this.idioma=e,this.sinopsis=i,this.genero=a,this.precio=r,this.posterUrl=o}}window.bootstrap=p;var h={name:"form-edit-pelicula",props:{pelicula:Object},created(){},mounted(){this.editPeliModal=new p.Modal("#editPeliModal")},data(){return{peli_titulo:this.pelicula?this.pelicula.titulo:"",peli_anio:this.pelicula?this.pelicula.anio:"",peli_idioma:this.pelicula?this.pelicula.idioma:"",peli_sinopsis:this.pelicula?this.pelicula.sinopsis:"",peli_genero:this.pelicula?this.pelicula.genero:[],peli_precio:this.pelicula?this.pelicula.precio:"",peli_posterurl:this.pelicula?this.pelicula.posterUrl:"",list_idiomas:["Castellano","Inglés","Italiano","Francés","Ruso"],list_generos:["Acción","Terror","Suspenso","Drama","Romance","Animacion","Comedia","Aventura","Ciencia ficción","Fantasía"],flagError:null,editPeliModal:""}},methods:{isInteger(s){return s=s||window.event,!!/\d/.test(s.key)||(8==s.keyCode||9==s.keyCode||13==s.keyCode||void s.preventDefault())},isFloat(s){return s=s||window.event,!!/^-?\d*\.?\d*$/.test(s.key)||(8==s.keyCode||9==s.keyCode||13==s.keyCode||188==s.keyCode||void s.preventDefault())},submit(){if(this.flagError=!1,this.$refs.errortitulo.innerText="",this.$refs.erroranio.innerText="",this.$refs.erroridioma.innerText="",this.$refs.errorsinopsis.innerText="",this.$refs.errorposterurl.innerText="",this.$refs.errorgenero.innerText="",this.$refs.errorprecio.innerText="",this.$refs.titulo.classList.remove("is-invalid"),this.$refs.anio.classList.remove("is-invalid"),this.$refs.idioma.classList.remove("is-invalid"),this.$refs.sinopsis.classList.remove("is-invalid"),this.$refs.generos.forEach((s=>s.classList.remove("is-invalid"))),this.$refs.genero8.classList.remove("is-invalid"),this.$refs.posterurl.classList.remove("is-invalid"),this.$refs.precio.classList.remove("is-invalid"),this.validacionesTitulo(),this.validacionesAnio(),this.validacionesIdioma(),this.validacionesSinopsis(),this.validacionesPrecio(),this.validacionesPoster(),this.validacionesGenero(),this.flagError)return;let s=new u(this.peli_titulo,this.peli_anio,this.peli_idioma,this.peli_sinopsis,this.peli_genero,this.peli_precio,this.peli_posterurl);this.pelicula?n.Z.put("https://639a6077d514150197347436.mockapi.io/cinema/peliculas/"+this.pelicula.id,s).then((t=>{console.log("created"+t.data),this.editPeliModal.hide(),this.$emit("setEvent",{evento:"update",pelicula:s})})).catch((s=>{console.error(`${s}`)})):n.Z.post("https://639a6077d514150197347436.mockapi.io/cinema/peliculas",s).then((t=>{console.log("created"+t.data),Object.keys(this.$data).forEach((s=>{this[s]="editPeliModal"==s||"list_idiomas"==s||"list_generos"==s?this[s]:null})),this.editPeliModal.hide(),this.$emit("setEvent",{evento:"create",pelicula:s})})).catch((s=>{console.error(`${s}`)}))},validacionesTitulo(){let s=2;if(!this.peli_titulo)return this.$refs.titulo.classList.add("is-invalid"),this.$refs.errortitulo.innerText="Campo obligatorio",void(this.flagError=!0);this.peli_titulo.length<s&&(this.$refs.titulo.classList.add("is-invalid"),this.$refs.errortitulo.innerText=`Este campo debe contener al menos ${s} caracteres`,this.flagError=!0)},validacionesAnio(){if(!this.peli_anio)return this.$refs.anio.classList.add("is-invalid"),this.$refs.erroranio.innerText="Campo obligatorio",void(this.flagError=!0);this.peli_anio<1900&&(this.$refs.anio.classList.add("is-invalid"),this.$refs.erroranio.innerText="El año no puede ser menor a 1900",this.flagError=!0),this.peli_anio>(new Date).getFullYear()&&(this.$refs.anio.classList.add("is-invalid"),this.$refs.erroranio.innerText="El año no puede ser mayor al actual",this.flagError=!0)},validacionesIdioma(){if(!this.peli_idioma)return this.$refs.idioma.classList.add("is-invalid"),this.$refs.erroridioma.innerText="Campo obligatorio",void(this.flagError=!0)},validacionesSinopsis(){let s=10;if(!this.peli_sinopsis)return this.$refs.sinopsis.classList.add("is-invalid"),this.$refs.errorsinopsis.innerText="Campo obligatorio",void(this.flagError=!0);this.peli_sinopsis.length<s&&(this.$refs.sinopsis.classList.add("is-invalid"),this.$refs.errorsinopsis.innerText=`Este campo debe contener al menos ${s} caracteres`,this.flagError=!0)},validacionesGenero(){if(!this.peli_genero.length)return this.$refs.generos.forEach((s=>s.classList.add("is-invalid"))),this.$refs.genero8.classList.add("is-invalid"),this.$refs.errorgenero.innerText="Debe seleccionar al menos un género",void(this.flagError=!0)},validacionesPrecio(){return this.peli_precio=parseFloat(this.peli_precio),0===this.peli_precio?(this.$refs.precio.classList.add("is-invalid"),this.$refs.errorprecio.innerText="El campo no puede ser cero",void(this.flagError=!0)):this.peli_precio?void 0:(this.$refs.precio.classList.add("is-invalid"),this.$refs.errorprecio.innerText="Campo obligatorio",void(this.flagError=!0))},validacionesPoster(){if(!this.peli_posterurl)return this.$refs.posterurl.classList.add("is-invalid"),this.$refs.errorposterurl.innerText="Campo obligatorio",void(this.flagError=!0);let s=/^(http|https):\/\/./g;if(!s.test(this.peli_posterurl))return this.$refs.posterurl.classList.add("is-invalid"),this.$refs.errorposterurl.innerText="La URL debe empezar con http or https",void(this.flagError=!0);s=/^(http|https):\/\/.([-a-zA-Z0-9@:%_+.~#?&//=]*)$/g,s.test(this.peli_posterurl)||(this.$refs.posterurl.classList.add("is-invalid"),this.$refs.errorposterurl.innerText="Ingrese un URL valida",this.flagError=!0)}},computed:{},watch:{pelicula(s){console.log("prop PELICULA actualiza"),console.log(s),this.peli_titulo=this.pelicula?this.pelicula.titulo:"",this.peli_anio=this.pelicula?this.pelicula.anio:"",this.peli_idioma=this.pelicula?this.pelicula.idioma:"",this.peli_sinopsis=this.pelicula?this.pelicula.sinopsis:"",this.peli_genero=this.pelicula?this.pelicula.genero:[],this.peli_precio=this.pelicula?this.pelicula.precio:"",this.peli_posterurl=this.pelicula?this.pelicula.posterUrl:""}}},m=h,f=e(1001),v=(0,f.Z)(m,d,c,!1,null,"e49522fe",null),g=v.exports;window.bootstrap=p;var b={name:"list-peliculas",props:[],created(){this.$store.dispatch("getProductosAction"),this.list_peliculas=this.getProductos()},mounted(){this.deletePeliModal=new p.Modal("#deletePeliModal"),this.$refs.editPeliModal.addEventListener("hidden.bs.modal",(s=>{const t=s.target.parentElement.__vue__.$refs.FormPelicula,e=s.target.parentElement.__vue__;e.targetEdit=null,t.$refs.errortitulo.innerText="",t.$refs.erroranio.innerText="",t.$refs.erroridioma.innerText="",t.$refs.errorsinopsis.innerText="",t.$refs.errorposterurl.innerText="",t.$refs.errorprecio.innerText="",t.$refs.titulo.classList.remove("is-invalid"),t.$refs.anio.classList.remove("is-invalid"),t.$refs.idioma.classList.remove("is-invalid"),t.$refs.sinopsis.classList.remove("is-invalid"),t.$refs.generos.forEach((s=>s.classList.remove("is-invalid"))),t.$refs.genero8.classList.remove("is-invalid"),t.$refs.posterurl.classList.remove("is-invalid"),t.$refs.precio.classList.remove("is-invalid");let i=!!this.flagUpdate&&"update";i=!(0!=i||!this.flagCreate)&&"create",this.displayToast({evento:i,pelicula:this.targetEdit})})),this.$refs.deletePeliModal.addEventListener("hidden.bs.modal",(()=>{if(this.flagDelete){let s="delete";this.displayToast({evento:s,pelicula:this.targetEdit})}}));const s=this.$refs.ABMtoast;this.toast=new p.Toast(s),s.addEventListener("hidden.bs.toast",(function(){this.toastMsg="",this.flagUpdate=!1,this.flagCreate=!1,this.flagDelete=!1,this.toastBkgn=""}))},data(){return{list_peliculas:this.getProductos(),targetEdit:null,toastMsg:"",toast:"",flagUpdate:!1,flagCreate:!1,flagDelete:!1,toastBkgn:""}},methods:{...(0,l.nv)(["getProductosAction"]),...(0,l.Se)(["getProductos"]),EliminarPelicula(){const s=this.targetEdit.id,t="https://639a6077d514150197347436.mockapi.io/cinema/peliculas/"+s;this.toastMsg=`<strong>${this.targetEdit.titulo}</strong> ha sido eliminado.`,n.Z["delete"](t).then((t=>{console.table(t.data),this.list_peliculas=this.list_peliculas.filter((t=>t.id!=s)),this.deletePeliModal.hide(),this.flagDelete=!0,this.$store.dispatch("getProductosAction")})).catch((s=>{console.error(`${s}`),this.deletePeliModal.hide(),this.flagDelete=!0}))},displayToast(s){switch(s.evento){case"update":this.toastMsg=`La película <strong>${s.pelicula.titulo}</strong> ha sido actualida.`,this.toastBkgn="bg-success bg-gradient",this.flagUpdate=!1,this.toast.show(),this.$store.dispatch("getProductosAction"),this.list_peliculas=this.getProductos();break;case"create":this.toastMsg=`La película <strong>${s.pelicula.titulo}</strong>. ha sido creada.`,this.toastBkgn="bg-primary bg-gradient",this.flagCreate=!1,this.toast.show(),this.$store.dispatch("getProductosAction"),this.list_peliculas=this.getProductos();break;case"delete":this.toastMsg=`La película <strong>${s.pelicula.titulo}</strong> ha sido eliminada.`,this.toastBkgn="bg-danger bg-gradient",this.flagDelete=!1,this.toast.show(),this.$store.dispatch("getProductosAction"),this.list_peliculas=this.getProductos();break;default:break}}},computed:{},components:{FormPelicula:g}},w=b,_=(0,f.Z)(w,r,o,!1,null,"1fc37320",null),C=_.exports,$={name:"PeliculasView",beforeCreate(){this.$store.getters.esAdministrador||this.$router.push({path:"/SignIn"})},components:{ListPeliculas:C}},y=$,x=(0,f.Z)(y,i,a,!1,null,null,null),k=x.exports},3877:function(s,t,e){e.r(t),e.d(t,{default:function(){return k}});var i=function(){var s=this,t=s._self._c;return t("div",{staticClass:"home"},[s.visible?t("log-in",{on:{register:function(t){s.visible=t}}}):t("Register",{on:{register:function(t){s.visible=t}}}),t("div",{staticClass:"toast-container position-fixed bottom-0 end-0 p-3"},[t("div",{ref:"toastCreate",staticClass:"toast",attrs:{id:"toastCreate",role:"alert","aria-live":"assertive","aria-atomic":"true"}},[s._m(0),t("div",{staticClass:"toast-body"},[s._v("Usuario creado correctamente")])])]),t("div",{staticClass:"toast-container position-fixed bottom-0 end-0 p-3"},[t("div",{ref:"toastError",staticClass:"toast",attrs:{id:"toastError",role:"alert","aria-live":"assertive","aria-atomic":"true"}},[s._m(1),t("div",{staticClass:"toast-body"},[s._v("No se pudo crear el usuario")])])])],1)},a=[function(){var s=this,t=s._self._c;return t("div",{staticClass:"toast-header text-white bg-primary bg-gradient"},[t("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"toast","aria-label":"Close"}})])},function(){var s=this,t=s._self._c;return t("div",{staticClass:"toast-header text-white bg-danger bg-gradient"},[t("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"toast","aria-label":"Close"}})])}],r=function(){var s=this,t=s._self._c;return t("section",{staticClass:"container register"},[t("h1",[s._v("Registro")]),t("form",{staticClass:"row",attrs:{action:"",method:"post",novalidate:""},on:{submit:function(t){return t.preventDefault(),s.submit.apply(null,arguments)}}},[t("div",{staticClass:"col-md-6"},[t("div",{staticClass:"form-floating mb-3"},[t("input",{directives:[{name:"model",rawName:"v-model.trim",value:s.nombre,expression:"nombre",modifiers:{trim:!0}}],ref:"nombre",staticClass:"form-control",attrs:{type:"text",id:"nombre",name:"nombre",placeholder:"Ingrese su nombre"},domProps:{value:s.nombre},on:{input:function(t){t.target.composing||(s.nombre=t.target.value.trim())},blur:function(t){return s.$forceUpdate()}}}),t("label",{staticClass:"opacity-75",attrs:{for:""}},[s._v("Nombre")]),t("div",{ref:"errornombre",staticClass:"invalid-feedback text-start"})])]),t("div",{staticClass:"col-md-6"},[t("div",{staticClass:"form-floating mb-3"},[t("input",{directives:[{name:"model",rawName:"v-model.trim",value:s.apellido,expression:"apellido",modifiers:{trim:!0}}],ref:"apellido",staticClass:"form-control",attrs:{type:"text",id:"apellido",name:"apellido",placeholder:"Ingrese su apellido"},domProps:{value:s.apellido},on:{input:function(t){t.target.composing||(s.apellido=t.target.value.trim())},blur:function(t){return s.$forceUpdate()}}}),t("label",{staticClass:"opacity-75",attrs:{for:""}},[s._v("Apellido")]),t("div",{ref:"errorapellido",staticClass:"invalid-feedback text-start"})])]),t("div",{staticClass:"col-md-12"},[t("div",{staticClass:"form-floating mb-3"},[t("input",{directives:[{name:"model",rawName:"v-model.trim",value:s.email,expression:"email",modifiers:{trim:!0}}],ref:"email",staticClass:"form-control",attrs:{type:"email",id:"email",name:"email",placeholder:"Ingrese su correo electrónico"},domProps:{value:s.email},on:{input:function(t){t.target.composing||(s.email=t.target.value.trim())},blur:function(t){return s.$forceUpdate()}}}),t("label",{staticClass:"opacity-75",attrs:{for:""}},[s._v("Correo electrónico")]),t("div",{ref:"erroremail",staticClass:"invalid-feedback text-start"})])]),t("div",{staticClass:"col-md-6"},[t("div",{staticClass:"form-floating"},[t("input",{directives:[{name:"model",rawName:"v-model.trim",value:s.password,expression:"password",modifiers:{trim:!0}}],ref:"password",staticClass:"form-control",attrs:{type:"password",id:"password",name:"password",placeholder:"Ingrese su contraseña"},domProps:{value:s.password},on:{input:function(t){t.target.composing||(s.password=t.target.value.trim())},blur:function(t){return s.$forceUpdate()}}}),t("label",{staticClass:"opacity-75",attrs:{for:""}},[s._v("Contraseña")]),t("div",{staticClass:"text-start small m-1 showpassword"},[t("input",{directives:[{name:"model",rawName:"v-model",value:s.showpassword,expression:"showpassword"}],ref:"showpassword",staticClass:"form-check-input d-none",attrs:{type:"checkbox",value:"",id:"showpassword"},domProps:{checked:Array.isArray(s.showpassword)?s._i(s.showpassword,"")>-1:s.showpassword},on:{change:[function(t){var e=s.showpassword,i=t.target,a=!!i.checked;if(Array.isArray(e)){var r="",o=s._i(e,r);i.checked?o<0&&(s.showpassword=e.concat([r])):o>-1&&(s.showpassword=e.slice(0,o).concat(e.slice(o+1)))}else s.showpassword=a},function(t){return s.showPassword(t)}]}}),t("label",{staticClass:"form-check-label",attrs:{for:"showpassword"}},[t("span",{staticClass:"m-auto"},[t("font-awesome-icon",{directives:[{name:"show",rawName:"v-show",value:!s.showpassword,expression:"!showpassword"}],attrs:{icon:"fa-solid fa-eye"}}),t("font-awesome-icon",{directives:[{name:"show",rawName:"v-show",value:s.showpassword,expression:"showpassword"}],attrs:{icon:"fa-solid fa-eye-slash"}})],1),s._v(" Mostrar ")])]),t("div",{ref:"errorpassword",staticClass:"invalid-feedback text-start"})])]),t("div",{staticClass:"col-md-6"},[t("div",{staticClass:"form-floating"},[t("input",{directives:[{name:"model",rawName:"v-model.trim",value:s.repassword,expression:"repassword",modifiers:{trim:!0}}],ref:"repassword",staticClass:"form-control",attrs:{type:"password",id:"repassword",name:"repassword",placeholder:"Ingrese su contraseña nuevamente"},domProps:{value:s.repassword},on:{input:function(t){t.target.composing||(s.repassword=t.target.value.trim())},blur:function(t){return s.$forceUpdate()}}}),t("label",{staticClass:"opacity-75",attrs:{for:""}},[s._v("Repetir contraseña")]),t("div",{staticClass:"text-start small m-1 showpassword"},[t("input",{directives:[{name:"model",rawName:"v-model",value:s.showrepassword,expression:"showrepassword"}],ref:"showrepassword",staticClass:"form-check-input d-none",attrs:{type:"checkbox",value:"",id:"showrepassword"},domProps:{checked:Array.isArray(s.showrepassword)?s._i(s.showrepassword,"")>-1:s.showrepassword},on:{change:[function(t){var e=s.showrepassword,i=t.target,a=!!i.checked;if(Array.isArray(e)){var r="",o=s._i(e,r);i.checked?o<0&&(s.showrepassword=e.concat([r])):o>-1&&(s.showrepassword=e.slice(0,o).concat(e.slice(o+1)))}else s.showrepassword=a},function(t){return s.showRepassword(t)}]}}),t("label",{staticClass:"form-check-label",attrs:{for:"showrepassword"}},[t("span",{staticClass:"m-auto"},[t("font-awesome-icon",{directives:[{name:"show",rawName:"v-show",value:!s.showrepassword,expression:"!showrepassword"}],attrs:{icon:"fa-solid fa-eye"}}),t("font-awesome-icon",{directives:[{name:"show",rawName:"v-show",value:s.showrepassword,expression:"showrepassword"}],attrs:{icon:"fa-solid fa-eye-slash"}})],1),s._v(" Mostrar ")])]),t("div",{ref:"errorrepassword",staticClass:"invalid-feedback text-start"})])]),t("div",{staticClass:"col-md-12"},[t("div",{staticClass:"form-floating mb-3"},[t("div",[t("input",{directives:[{name:"model",rawName:"v-model",value:s.esAdmin,expression:"esAdmin"}],staticClass:"form-check-input m-1",attrs:{type:"checkbox",id:"esAdmin",name:"esAdmin"},domProps:{checked:Array.isArray(s.esAdmin)?s._i(s.esAdmin,null)>-1:s.esAdmin},on:{change:function(t){var e=s.esAdmin,i=t.target,a=!!i.checked;if(Array.isArray(e)){var r=null,o=s._i(e,r);i.checked?o<0&&(s.esAdmin=e.concat([r])):o>-1&&(s.esAdmin=e.slice(0,o).concat(e.slice(o+1)))}else s.esAdmin=a}}}),t("label",{staticClass:"form-check-label",attrs:{for:"esAdmin"}},[s._v(" ¿Es administrador?")])])])]),t("div",{},[t("button",{staticClass:"btn btn-primary m-1",attrs:{type:"submit"}},[s._v("Registrarse")]),t("button",{staticClass:"btn btn-secondary m-1",on:{click:function(t){return s.volver()}}},[s._v("Volver al login")])])])])},o=[];class l{constructor(s,t,e,i,a){this.nombre=s,this.apellido=t,this.email=e,this.password=i,this.esAdmin=a}}var n=e(5939),d={name:"Register",props:{register:Boolean},created(){const s="https://639a6077d514150197347436.mockapi.io/cinema/usuarios";n.Z.get(s).then((s=>{this.usuarios=s.data})).catch((s=>{console.error(`${s}`)}))},mounted(){},data(){return{nombre:"",apellido:"",email:"",password:"",repassword:"",esAdmin:!1,usuarios:[],showpassword:!1,showrepassword:!1,flagError:null}},methods:{async submit(){if(this.flagError=!1,this.$refs.errornombre.innerText="",this.$refs.errorapellido.innerText="",this.$refs.erroremail.innerText="",this.$refs.errorpassword.innerText="",this.$refs.errorrepassword.innerText="",this.$refs.nombre.classList.remove("is-invalid"),this.$refs.apellido.classList.remove("is-invalid"),this.$refs.email.classList.remove("is-invalid"),this.$refs.password.classList.remove("is-invalid"),this.$refs.repassword.classList.remove("is-invalid"),this.validacionesNombre(),this.validacionesApellido(),this.validacionesEmail(),this.validacionesPassword(),this.validacionesRepassword(),this.flagError)return;if(this.usuarios.find((s=>s.email===this.email)))return this.$refs.email.classList.add("is-invalid"),this.$refs.erroremail.innerText="El correo electrónico ya se encuentra registrado",void(this.flagError=!0);let s=new l(this.nombre,this.apellido,this.email,this.password),t="https://639a6077d514150197347436.mockapi.io/cinema/usuarios";try{const e=await n.Z.post(t,s);201==e.status&&(Object.assign(this.$data,this.$options.data()),this.$parent.toastCreate.show(),this.volver())}catch(e){this.$parent.toastError.show()}},validacionesNombre(){if(!this.nombre)return this.$refs.nombre.classList.add("is-invalid"),this.$refs.errornombre.innerText="Campo obligatorio",void(this.flagError=!0);let s=/(?=.*[0-9])/;s.test(this.nombre)&&(this.$refs.nombre.classList.add("is-invalid"),this.$refs.errornombre.innerText="Este campo no admite caracteres numéricos",this.flagError=!0)},validacionesApellido(){if(!this.apellido)return this.$refs.apellido.classList.add("is-invalid"),this.$refs.errorapellido.innerText="Campo obligatorio",void(this.flagError=!0);let s=/(?=.*[0-9])/;s.test(this.apellido)&&(this.$refs.apellido.classList.add("is-invalid"),this.$refs.errorapellido.innerText="Este campo no admite caracteres numéricos",this.flagError=!0)},validacionesEmail(){if(!this.email)return this.$refs.email.classList.add("is-invalid"),this.$refs.erroremail.innerText="Campo obligatorio",void(this.flagError=!0);let s=/^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)$/;s.test(this.email)||(this.$refs.email.classList.add("is-invalid"),this.$refs.erroremail.innerText="Ingrese un email válido",this.flagError=!0)},validacionesPassword(){if(!this.password)return this.$refs.password.classList.add("is-invalid"),this.$refs.errorpassword.innerText="Campo obligatorio",void(this.flagError=!0);let s="",t=null;t=/(?=.*[a-z])/,t.test(this.password)||(this.$refs.password.classList.add("is-invalid"),s+="<li>Minusculas</li>",this.flagError=!0),t=/(?=.*[A-Z])/,t.test(this.password)||(this.$refs.password.classList.add("is-invalid"),s+="<li>Mayusculas</li>",this.flagError=!0),t=/(?=.*[0-9])/,t.test(this.password)||(this.$refs.password.classList.add("is-invalid"),s+="<li>Numeros</li>",this.flagError=!0),t=/(?=.*[.!@#$%^&*])/,t.test(this.password)||(this.$refs.password.classList.add("is-invalid"),s+="<li>Los siguientes caracteres especiales .!@#$%^&* </li>",this.flagError=!0),t=/(?=.{8,})/,t.test(this.password)||(this.$refs.password.classList.add("is-invalid"),s+="<li>Al menos 8 caracteres</li>",this.flagError=!0),this.$refs.errorpassword.innerHTML=`La contraseña debe contener: <ul>${s}</ul>`},validacionesRepassword(){if(!this.repassword)return this.$refs.repassword.classList.add("is-invalid"),this.$refs.errorrepassword.innerText="Campo obligatorio",void(this.flagError=!0);let s="",t=null;t=/(?=.*[a-z])/,t.test(this.repassword)||(this.$refs.repassword.classList.add("is-invalid"),s+="<li>Minusculas</li>",this.flagError=!0),t=/(?=.*[A-Z])/,t.test(this.repassword)||(this.$refs.repassword.classList.add("is-invalid"),s+="<li>Mayusculas</li>",this.flagError=!0),t=/(?=.*[0-9])/,t.test(this.repassword)||(this.$refs.repassword.classList.add("is-invalid"),s+="<li>Numeros</li>",this.flagError=!0),t=/(?=.*[.!@#$%^&*])/,t.test(this.repassword)||(this.$refs.repassword.classList.add("is-invalid"),s+="<li>Los siguientes caracteres especiales .!@#$%^&* </li>",this.flagError=!0),t=/(?=.{8,})/,t.test(this.repassword)||(this.$refs.repassword.classList.add("is-invalid"),s+="<li>Al menos 8 caracteres</li>",this.flagError=!0),this.$refs.errorrepassword.innerHTML=`La contraseña debe contener: <ul>${s}</ul>`,t=/(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[.!@#$%^&*])(?=.{8,})/,t.test(this.repassword)&&this.repassword!=this.password&&(this.$refs.repassword.classList.add("is-invalid"),this.$refs.errorrepassword.innerText="Las contraseñas deben ser iguales",this.flagError=!0)},volver(){this.$emit("register",!0)},showPassword(s){s.target.checked?this.$refs.password.type="text":this.$refs.password.type="password"},showRepassword(s){s.target.checked?this.$refs.repassword.type="text":this.$refs.repassword.type="password"}},computed:{}},c=d,p=e(1001),u=(0,p.Z)(c,r,o,!1,null,"93b7c880",null),h=u.exports,m=function(){var s=this,t=s._self._c;return t("section",{staticClass:"log-in container"},[t("h1",[s._v("Login")]),t("form",{attrs:{action:"",method:"post",novalidate:""},on:{submit:function(t){return t.preventDefault(),s.submit.apply(null,arguments)}}},[t("div",{staticClass:"form-floating mb-3"},[t("input",{directives:[{name:"model",rawName:"v-model.trim",value:s.email,expression:"email",modifiers:{trim:!0}}],ref:"email",staticClass:"form-control",attrs:{type:"email",id:"email",name:"email",placeholder:"Correo electrónico",required:""},domProps:{value:s.email},on:{input:function(t){t.target.composing||(s.email=t.target.value.trim())},blur:function(t){return s.$forceUpdate()}}}),t("label",{staticClass:"opacity-75",attrs:{for:"email"}},[s._v("Correo electrónico")]),t("div",{ref:"erroremail",staticClass:"invalid-feedback text-start"})]),t("div",{staticClass:"form-floating mb-3"},[t("input",{directives:[{name:"model",rawName:"v-model.trim",value:s.password,expression:"password",modifiers:{trim:!0}}],ref:"password",staticClass:"form-control",attrs:{type:"password",id:"password",name:"password",placeholder:"Contraseña"},domProps:{value:s.password},on:{input:function(t){t.target.composing||(s.password=t.target.value.trim())},blur:function(t){return s.$forceUpdate()}}}),t("label",{staticClass:"opacity-75",attrs:{for:"password"}},[s._v("Contraseña")]),t("div",{staticClass:"text-start small m-1 showpassword"},[t("input",{directives:[{name:"model",rawName:"v-model",value:s.showpassword,expression:"showpassword"}],ref:"showpassword",staticClass:"form-check-input d-none",attrs:{type:"checkbox",value:"",id:"showpassword"},domProps:{checked:Array.isArray(s.showpassword)?s._i(s.showpassword,"")>-1:s.showpassword},on:{change:[function(t){var e=s.showpassword,i=t.target,a=!!i.checked;if(Array.isArray(e)){var r="",o=s._i(e,r);i.checked?o<0&&(s.showpassword=e.concat([r])):o>-1&&(s.showpassword=e.slice(0,o).concat(e.slice(o+1)))}else s.showpassword=a},function(t){return s.showPassword(t)}]}}),t("label",{staticClass:"form-check-label",attrs:{for:"showpassword"}},[t("span",{staticClass:"m-auto"},[t("font-awesome-icon",{directives:[{name:"show",rawName:"v-show",value:!s.showpassword,expression:"!showpassword"}],attrs:{icon:"fa-solid fa-eye"}}),t("font-awesome-icon",{directives:[{name:"show",rawName:"v-show",value:s.showpassword,expression:"showpassword"}],attrs:{icon:"fa-solid fa-eye-slash"}})],1),s._v(" Mostrar ")])]),t("div",{ref:"errorpassword",staticClass:"invalid-feedback text-start"})]),t("button",{staticClass:"btn btn-primary m-1",attrs:{type:"submit"}},[s._v("Iniciar sesión")]),t("button",{staticClass:"btn btn-secondary m-1",on:{click:function(t){return s.enviarRegister()}}},[s._v("Registrarse")])])])},f=[],v=(e(7658),e(3822)),g={name:"log-in",props:[],mounted(){},created(){const s="https://639a6077d514150197347436.mockapi.io/cinema/usuarios";n.Z.get(s).then((s=>{this.usuarios=s.data})).catch((s=>{console.error(`${s}`)}))},data(){return{email:"",password:"",usuarios:[],flagError:null,showpassword:!1}},methods:{...(0,v.OI)(["setUser"]),submit(){if(this.flagError=!1,this.$refs.erroremail.innerText="",this.$refs.errorpassword.innerText="",this.$refs.email.classList.remove("is-invalid"),this.$refs.password.classList.remove("is-invalid"),this.validacionesEmail(),this.validacionesPassword(),this.flagError)return;let s=this.usuarios.find((s=>s.email===this.email&&s.password===this.password));if(!s)return this.$refs.email.classList.add("is-invalid"),this.$refs.erroremail.innerText="Credenciales incorrectas",this.$refs.password.classList.add("is-invalid"),void(this.$refs.errorpassword.innerText="Credenciales incorrectas");localStorage.setItem("user",JSON.stringify(s)),this.setUser(s),this.$router.push({path:"/"})},validacionesEmail(){if(!this.email)return this.$refs.email.classList.add("is-invalid"),this.$refs.erroremail.innerText="Campo obligatorio",void(this.flagError=!0);let s=/^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)$/;s.test(this.email)||(this.$refs.email.classList.add("is-invalid"),this.$refs.erroremail.innerText="Ingrese un email válido",this.flagError=!0)},validacionesPassword(){if(!this.password)return this.$refs.password.classList.add("is-invalid"),this.$refs.errorpassword.innerText="Campo obligatorio",void(this.flagError=!0)},enviarRegister(){this.$emit("register",!1)},showPassword(s){s.target.checked?this.$refs.password.type="text":this.$refs.password.type="password"}},computed:{}},b=g,w=(0,p.Z)(b,m,f,!1,null,"9e62fb42",null),_=w.exports,C=e(2166);window.bootstrap=C;var $={name:"SignInView",components:{Register:h,LogIn:_},mounted(){const s=this.$refs.toastError;this.toastError=new C.Toast(s);const t=this.$refs.toastCreate;this.toastCreate=new C.Toast(t)},data(){return{usuario:null,visible:!0,toastCreate:null,toastError:null}},methods:{}},y=$,x=(0,p.Z)(y,i,a,!1,null,"300f39ea",null),k=x.exports}}]);
//# sourceMappingURL=about.26968df7.js.map